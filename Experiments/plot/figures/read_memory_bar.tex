
\begin{tikzpicture}
\begin{axis}[	
	xticklabel style = {font=\tiny},%,yshift=-0.1ex,xshift=0pt},%xshift=-16pt
	yticklabel style = {font=\small},%,xshift=0.9ex
	ybar,
	scaled y ticks=false,
	xtick=data,
	width=\columnwidth,
	height=2in,
	axis x line*=bottom,
	axis y line*=left,
	ymajorgrids=true,
	grid style=dotted,
	minor grid style={gray},
	major grid style={gray},
	%x=0.5cm,
	ymin=8,
	ymax=32,
	enlarge x limits={abs=0.2cm},
	ytick={8,12,16,20,24,28,32},
	yticklabels={8,12,16,20,24,28,32},
	ylabel=Used Memory (GB),
	y label style={at={(0.1,0.4)}},
	table/col sep=comma,
	xticklabels from table={diagram/read_memory_bar.csv}{methodname},
	xticklabel style={yshift=0.1em},%,xshift=-0.2cm,rotate=90,anchor=north},
	%x tick label style={yshift={-mod(\ticknum,2)*0.7em}},
	x tick label style={xshift=1mm,rotate=45,anchor=east},
	bar width=0.2cm,
	xtick align=outside, 
	extra x ticks={2,8,14},
	extra x tick labels={C++, Rust,Java},
	extra x tick style={%
		grid=none,
		tick style={draw=none}, 
		tick label style={font=\huge,yshift=-8mm  ,rotate=-45,color=black}
	},
	after end axis/.code={
		\draw[semithick,gray!40] (-17, -60) -- (32,-60);
		\draw[semithick,gray!40] (42, -60) -- (82,-60);
		\draw[semithick,gray!40] (92, -60) -- (162,-60);
		\draw[blue,thick]  (55, 240) -- (55,-12) ;
		\draw[blue,thick]  (105, 240) -- (105,-11);
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%	
		\draw[semithick,gray!40] (-17, -60) -- (-12,-47);		
		\draw[semithick,gray!40] (32, -60) -- (43,-35);		
		\draw[semithick,gray!40] (42, -60) -- (48,-46);
		\draw[semithick,gray!40] (82, -60) -- (93,-35);
		\draw[semithick,gray!40] (92, -60) -- (94,-55);
		\draw[semithick,gray!40] (162, -60) -- (165,-53);		
	},
	nodes near coords,
	nodes near coords align={vertical},
	every node near coord/.append style={
		font=\scriptsize,
		rotate=90,
		anchor=west,	
		/pgf/number format/.cd,
		/pgf/number format/precision=2,	
	},
]
\addplot[postaction={pattern color=darkgray,pattern=crosshatch dots}]
table[x=methodindex,y=memory,col sep=comma]{diagram/read_memory_bar.csv};

\end{axis}

\end{tikzpicture}